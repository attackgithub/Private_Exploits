.class public Lorg/docx4j/samples/AltChunkHtml;
.super Ljava/lang/Object;
.source "AltChunkHtml.java"


# direct methods
.method public constructor <init>()V
    .locals 0

    .prologue
    .line 11
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    return-void
.end method

.method public static main([Ljava/lang/String;)V
    .locals 8
    .param p0, "args"    # [Ljava/lang/String;
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/lang/Exception;
        }
    .end annotation

    .prologue
    .line 19
    invoke-static {}, Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;->createPackage()Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;

    move-result-object v4

    .line 21
    .local v4, "wordMLPackage":Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;
    const-string v3, "<html><head><title>Import me</title></head><body><p>Hello World!</p></body></html>"

    .line 22
    .local v3, "html":Ljava/lang/String;
    new-instance v1, Lorg/docx4j/openpackaging/parts/WordprocessingML/AlternativeFormatInputPart;

    new-instance v5, Lorg/docx4j/openpackaging/parts/PartName;

    const-string v6, "/hw.html"

    invoke-direct {v5, v6}, Lorg/docx4j/openpackaging/parts/PartName;-><init>(Ljava/lang/String;)V

    invoke-direct {v1, v5}, Lorg/docx4j/openpackaging/parts/WordprocessingML/AlternativeFormatInputPart;-><init>(Lorg/docx4j/openpackaging/parts/PartName;)V

    .line 23
    .local v1, "afiPart":Lorg/docx4j/openpackaging/parts/WordprocessingML/AlternativeFormatInputPart;
    invoke-virtual {v3}, Ljava/lang/String;->getBytes()[B

    move-result-object v5

    invoke-virtual {v1, v5}, Lorg/docx4j/openpackaging/parts/WordprocessingML/AlternativeFormatInputPart;->setBinaryData([B)V

    .line 24
    new-instance v5, Lorg/docx4j/openpackaging/contenttype/ContentType;

    const-string v6, "text/html"

    invoke-direct {v5, v6}, Lorg/docx4j/openpackaging/contenttype/ContentType;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, v5}, Lorg/docx4j/openpackaging/parts/WordprocessingML/AlternativeFormatInputPart;->setContentType(Lorg/docx4j/openpackaging/contenttype/ContentType;)V

    .line 25
    invoke-virtual {v4}, Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;->getMainDocumentPart()Lorg/docx4j/openpackaging/parts/WordprocessingML/MainDocumentPart;

    move-result-object v5

    invoke-virtual {v5, v1}, Lorg/docx4j/openpackaging/parts/WordprocessingML/MainDocumentPart;->addTargetPart(Lorg/docx4j/openpackaging/parts/Part;)Lorg/docx4j/relationships/Relationship;

    move-result-object v2

    .line 27
    .local v2, "altChunkRel":Lorg/docx4j/relationships/Relationship;
    invoke-static {}, Lorg/docx4j/jaxb/Context;->getWmlObjectFactory()Lorg/docx4j/wml/ObjectFactory;

    move-result-object v5

    invoke-virtual {v5}, Lorg/docx4j/wml/ObjectFactory;->createCTAltChunk()Lorg/docx4j/wml/CTAltChunk;

    move-result-object v0

    .line 28
    .local v0, "ac":Lorg/docx4j/wml/CTAltChunk;
    invoke-virtual {v2}, Lorg/docx4j/relationships/Relationship;->getId()Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v5}, Lorg/docx4j/wml/CTAltChunk;->setId(Ljava/lang/String;)V

    .line 29
    invoke-virtual {v4}, Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;->getMainDocumentPart()Lorg/docx4j/openpackaging/parts/WordprocessingML/MainDocumentPart;

    move-result-object v5

    invoke-virtual {v5, v0}, Lorg/docx4j/openpackaging/parts/WordprocessingML/MainDocumentPart;->addObject(Ljava/lang/Object;)V

    .line 31
    invoke-virtual {v4}, Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;->getContentTypeManager()Lorg/docx4j/openpackaging/contenttype/ContentTypeManager;

    move-result-object v5

    const-string v6, "html"

    const-string v7, "text/html"

    invoke-virtual {v5, v6, v7}, Lorg/docx4j/openpackaging/contenttype/ContentTypeManager;->addDefaultContentType(Ljava/lang/String;Ljava/lang/String;)V

    .line 32
    new-instance v5, Ljava/io/File;

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "user.dir"

    invoke-static {v7}, Ljava/lang/System;->getProperty(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "/test.docx"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-direct {v5, v6}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v4, v5}, Lorg/docx4j/openpackaging/packages/WordprocessingMLPackage;->save(Ljava/io/File;)V

    .line 33
    return-void
.end method
