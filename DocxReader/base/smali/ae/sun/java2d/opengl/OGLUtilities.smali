.class Lae/sun/java2d/opengl/OGLUtilities;
.super Ljava/lang/Object;
.source "OGLUtilities.java"


# static fields
.field public static final FBOBJECT:I = 0x5

.field public static final FLIP_BACKBUFFER:I = 0x4

.field public static final PBUFFER:I = 0x2

.field public static final TEXTURE:I = 0x3

.field public static final UNDEFINED:I = 0x0

.field public static final WINDOW:I = 0x1


# direct methods
.method private constructor <init>()V
    .locals 0

    .prologue
    .line 59
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 60
    return-void
.end method

.method public static getOGLScissorBox(Lae/java/awt/Graphics;)Lae/java/awt/Rectangle;
    .locals 12
    .param p0, "g"    # Lae/java/awt/Graphics;

    .prologue
    const/4 v10, 0x0

    .line 240
    instance-of v11, p0, Lae/sun/java2d/SunGraphics2D;

    if-nez v11, :cond_1

    .line 269
    :cond_0
    :goto_0
    return-object v10

    :cond_1
    move-object v3, p0

    .line 244
    check-cast v3, Lae/sun/java2d/SunGraphics2D;

    .line 245
    .local v3, "sg2d":Lae/sun/java2d/SunGraphics2D;
    iget-object v2, v3, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    .line 246
    .local v2, "sData":Lae/sun/java2d/SurfaceData;
    invoke-virtual {v3}, Lae/sun/java2d/SunGraphics2D;->getCompClip()Lae/sun/java2d/pipe/Region;

    move-result-object v1

    .line 247
    .local v1, "r":Lae/sun/java2d/pipe/Region;
    invoke-virtual {v1}, Lae/sun/java2d/pipe/Region;->isRectangular()Z

    move-result v11

    if-eqz v11, :cond_0

    .line 256
    invoke-virtual {v1}, Lae/sun/java2d/pipe/Region;->getLoX()I

    move-result v6

    .line 257
    .local v6, "x0":I
    invoke-virtual {v1}, Lae/sun/java2d/pipe/Region;->getLoY()I

    move-result v8

    .line 260
    .local v8, "y0":I
    invoke-virtual {v1}, Lae/sun/java2d/pipe/Region;->getWidth()I

    move-result v5

    .line 261
    .local v5, "w":I
    invoke-virtual {v1}, Lae/sun/java2d/pipe/Region;->getHeight()I

    move-result v0

    .line 265
    .local v0, "h":I
    invoke-virtual {v2}, Lae/sun/java2d/SurfaceData;->getBounds()Lae/java/awt/Rectangle;

    move-result-object v4

    .line 266
    .local v4, "surfaceBounds":Lae/java/awt/Rectangle;
    move v7, v6

    .line 267
    .local v7, "x1":I
    iget v10, v4, Lae/java/awt/Rectangle;->height:I

    add-int v11, v8, v0

    sub-int v9, v10, v11

    .line 269
    .local v9, "y1":I
    new-instance v10, Lae/java/awt/Rectangle;

    invoke-direct {v10, v7, v9, v5, v0}, Lae/java/awt/Rectangle;-><init>(IIII)V

    goto :goto_0
.end method

.method public static getOGLSurfaceIdentifier(Lae/java/awt/Graphics;)Ljava/lang/Object;
    .locals 1
    .param p0, "g"    # Lae/java/awt/Graphics;

    .prologue
    .line 285
    instance-of v0, p0, Lae/sun/java2d/SunGraphics2D;

    if-nez v0, :cond_0

    .line 286
    const/4 v0, 0x0

    .line 288
    .end local p0    # "g":Lae/java/awt/Graphics;
    :goto_0
    return-object v0

    .restart local p0    # "g":Lae/java/awt/Graphics;
    :cond_0
    check-cast p0, Lae/sun/java2d/SunGraphics2D;

    .end local p0    # "g":Lae/java/awt/Graphics;
    iget-object v0, p0, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    goto :goto_0
.end method

.method public static getOGLSurfaceType(Lae/java/awt/Graphics;)I
    .locals 3
    .param p0, "g"    # Lae/java/awt/Graphics;

    .prologue
    const/4 v1, 0x0

    .line 304
    instance-of v2, p0, Lae/sun/java2d/SunGraphics2D;

    if-nez v2, :cond_1

    .line 311
    .end local p0    # "g":Lae/java/awt/Graphics;
    :cond_0
    :goto_0
    return v1

    .line 307
    .restart local p0    # "g":Lae/java/awt/Graphics;
    :cond_1
    check-cast p0, Lae/sun/java2d/SunGraphics2D;

    .end local p0    # "g":Lae/java/awt/Graphics;
    iget-object v0, p0, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    .line 308
    .local v0, "sData":Lae/sun/java2d/SurfaceData;
    instance-of v2, v0, Lae/sun/java2d/opengl/OGLSurfaceData;

    if-eqz v2, :cond_0

    .line 311
    check-cast v0, Lae/sun/java2d/opengl/OGLSurfaceData;

    .end local v0    # "sData":Lae/sun/java2d/SurfaceData;
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLSurfaceData;->getType()I

    move-result v1

    goto :goto_0
.end method

.method public static getOGLTextureType(Lae/java/awt/Graphics;)I
    .locals 3
    .param p0, "g"    # Lae/java/awt/Graphics;

    .prologue
    const/4 v1, 0x0

    .line 329
    instance-of v2, p0, Lae/sun/java2d/SunGraphics2D;

    if-nez v2, :cond_1

    .line 336
    .end local p0    # "g":Lae/java/awt/Graphics;
    :cond_0
    :goto_0
    return v1

    .line 332
    .restart local p0    # "g":Lae/java/awt/Graphics;
    :cond_1
    check-cast p0, Lae/sun/java2d/SunGraphics2D;

    .end local p0    # "g":Lae/java/awt/Graphics;
    iget-object v0, p0, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    .line 333
    .local v0, "sData":Lae/sun/java2d/SurfaceData;
    instance-of v2, v0, Lae/sun/java2d/opengl/OGLSurfaceData;

    if-eqz v2, :cond_0

    .line 336
    check-cast v0, Lae/sun/java2d/opengl/OGLSurfaceData;

    .end local v0    # "sData":Lae/sun/java2d/SurfaceData;
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLSurfaceData;->getTextureTarget()I

    move-result v1

    goto :goto_0
.end method

.method public static getOGLViewport(Lae/java/awt/Graphics;II)Lae/java/awt/Rectangle;
    .locals 9
    .param p0, "g"    # Lae/java/awt/Graphics;
    .param p1, "componentWidth"    # I
    .param p2, "componentHeight"    # I

    .prologue
    .line 199
    instance-of v7, p0, Lae/sun/java2d/SunGraphics2D;

    if-nez v7, :cond_0

    .line 200
    const/4 v7, 0x0

    .line 219
    :goto_0
    return-object v7

    :cond_0
    move-object v1, p0

    .line 203
    check-cast v1, Lae/sun/java2d/SunGraphics2D;

    .line 204
    .local v1, "sg2d":Lae/sun/java2d/SunGraphics2D;
    iget-object v0, v1, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    .line 209
    .local v0, "sData":Lae/sun/java2d/SurfaceData;
    iget v3, v1, Lae/sun/java2d/SunGraphics2D;->transX:I

    .line 210
    .local v3, "x0":I
    iget v5, v1, Lae/sun/java2d/SunGraphics2D;->transY:I

    .line 215
    .local v5, "y0":I
    invoke-virtual {v0}, Lae/sun/java2d/SurfaceData;->getBounds()Lae/java/awt/Rectangle;

    move-result-object v2

    .line 216
    .local v2, "surfaceBounds":Lae/java/awt/Rectangle;
    move v4, v3

    .line 217
    .local v4, "x1":I
    iget v7, v2, Lae/java/awt/Rectangle;->height:I

    add-int v8, v5, p2

    sub-int v6, v7, v8

    .line 219
    .local v6, "y1":I
    new-instance v7, Lae/java/awt/Rectangle;

    invoke-direct {v7, v4, v6, p1, p2}, Lae/java/awt/Rectangle;-><init>(IIII)V

    goto :goto_0
.end method

.method public static invokeWithOGLContextCurrent(Lae/java/awt/Graphics;Ljava/lang/Runnable;)Z
    .locals 4
    .param p0, "g"    # Lae/java/awt/Graphics;
    .param p1, "r"    # Ljava/lang/Runnable;

    .prologue
    const/4 v2, 0x0

    .line 96
    invoke-static {}, Lae/sun/java2d/opengl/OGLRenderQueue;->getInstance()Lae/sun/java2d/opengl/OGLRenderQueue;

    move-result-object v0

    .line 97
    .local v0, "rq":Lae/sun/java2d/opengl/OGLRenderQueue;
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->lock()V

    .line 99
    if-eqz p0, :cond_2

    .line 100
    :try_start_0
    instance-of v3, p0, Lae/sun/java2d/SunGraphics2D;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    if-nez v3, :cond_0

    .line 119
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    .line 122
    .end local p0    # "g":Lae/java/awt/Graphics;
    :goto_0
    return v2

    .line 103
    .restart local p0    # "g":Lae/java/awt/Graphics;
    :cond_0
    :try_start_1
    check-cast p0, Lae/sun/java2d/SunGraphics2D;

    .end local p0    # "g":Lae/java/awt/Graphics;
    iget-object v1, p0, Lae/sun/java2d/SunGraphics2D;->surfaceData:Lae/sun/java2d/SurfaceData;

    .line 104
    .local v1, "sData":Lae/sun/java2d/SurfaceData;
    instance-of v3, v1, Lae/sun/java2d/opengl/OGLSurfaceData;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    if-nez v3, :cond_1

    .line 119
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    goto :goto_0

    .line 109
    :cond_1
    :try_start_2
    check-cast v1, Lae/sun/java2d/opengl/OGLSurfaceData;

    .end local v1    # "sData":Lae/sun/java2d/SurfaceData;
    invoke-static {v1}, Lae/sun/java2d/opengl/OGLContext;->validateContext(Lae/sun/java2d/pipe/hw/AccelSurface;)V

    .line 113
    :cond_2
    invoke-virtual {v0, p1}, Lae/sun/java2d/opengl/OGLRenderQueue;->flushAndInvokeNow(Ljava/lang/Runnable;)V

    .line 117
    invoke-static {}, Lae/sun/java2d/opengl/OGLContext;->invalidateCurrentContext()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 119
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    .line 122
    const/4 v2, 0x1

    goto :goto_0

    .line 118
    :catchall_0
    move-exception v2

    .line 119
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    .line 120
    throw v2
.end method

.method public static invokeWithOGLSharedContextCurrent(Lae/java/awt/GraphicsConfiguration;Ljava/lang/Runnable;)Z
    .locals 2
    .param p0, "config"    # Lae/java/awt/GraphicsConfiguration;
    .param p1, "r"    # Ljava/lang/Runnable;

    .prologue
    .line 152
    instance-of v1, p0, Lae/sun/java2d/opengl/OGLGraphicsConfig;

    if-nez v1, :cond_0

    .line 153
    const/4 v1, 0x0

    .line 172
    .end local p0    # "config":Lae/java/awt/GraphicsConfiguration;
    :goto_0
    return v1

    .line 156
    .restart local p0    # "config":Lae/java/awt/GraphicsConfiguration;
    :cond_0
    invoke-static {}, Lae/sun/java2d/opengl/OGLRenderQueue;->getInstance()Lae/sun/java2d/opengl/OGLRenderQueue;

    move-result-object v0

    .line 157
    .local v0, "rq":Lae/sun/java2d/opengl/OGLRenderQueue;
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->lock()V

    .line 160
    :try_start_0
    check-cast p0, Lae/sun/java2d/opengl/OGLGraphicsConfig;

    .end local p0    # "config":Lae/java/awt/GraphicsConfiguration;
    invoke-static {p0}, Lae/sun/java2d/opengl/OGLContext;->setScratchSurface(Lae/sun/java2d/opengl/OGLGraphicsConfig;)V

    .line 163
    invoke-virtual {v0, p1}, Lae/sun/java2d/opengl/OGLRenderQueue;->flushAndInvokeNow(Ljava/lang/Runnable;)V

    .line 167
    invoke-static {}, Lae/sun/java2d/opengl/OGLContext;->invalidateCurrentContext()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 169
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    .line 172
    const/4 v1, 0x1

    goto :goto_0

    .line 168
    :catchall_0
    move-exception v1

    .line 169
    invoke-virtual {v0}, Lae/sun/java2d/opengl/OGLRenderQueue;->unlock()V

    .line 170
    throw v1
.end method

.method public static isQueueFlusherThread()Z
    .locals 1

    .prologue
    .line 66
    invoke-static {}, Lae/sun/java2d/opengl/OGLRenderQueue;->isQueueFlusherThread()Z

    move-result v0

    return v0
.end method
